(this["webpackJsonpclass-26-solution"]=this["webpackJsonpclass-26-solution"]||[]).push([[0],{20:function(t,e,a){},21:function(t,e,a){},23:function(t,e,a){},24:function(t,e,a){},25:function(t,e,a){},26:function(t,e,a){},27:function(t,e,a){"use strict";a.r(e);var r=a(9),s=a(10),n=a(14),c=a(12),o=a(1),i=a.n(o),u=a(11),l=a.n(u),d=a(3),j=a.n(d),h=a(13),b=a(7),O=a(4),p=a(2),x=(a(20),a(21),a(0));var y=function(){return Object(x.jsx)("header",{children:Object(x.jsx)("h1",{id:"title",children:"RESTy"})})};a(23);var f=function(){return Object(x.jsx)("footer",{children:"\xa9 2021"})};a(24);var m=function(t){var e=Object(o.useState)("GET"),a=Object(O.a)(e,2),r=a[0],s=a[1],n=Object(o.useState)("https://pokeapi.co/api/v2/pokemon"),c=Object(O.a)(n,2),i=c[0],u=c[1],l=Object(o.useState)(!1),d=Object(O.a)(l,2),h=d[0],p=d[1];function y(){return(y=Object(b.a)(j.a.mark((function e(a){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),s={method:r,url:i,raw:a.target.data.value},t.dispatch({type:"submit",payload:s});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{onSubmit:function(t){return y.apply(this,arguments)},children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"URL: "}),Object(x.jsx)("input",{name:"url",type:"text",onChange:function(t){u(t.target.value)}}),Object(x.jsx)("button",{type:"submit",children:"GO!"})]}),Object(x.jsxs)("label",{className:"methods",children:[Object(x.jsx)("span",{id:"get",onClick:function(){s("GET")},children:"GET"}),Object(x.jsx)("span",{id:"post",onClick:function(){s("POST")},children:"POST"}),Object(x.jsx)("span",{id:"put",onClick:function(){s("PUT")},children:"PUT"}),Object(x.jsx)("span",{id:"delete",onClick:function(){s("DELETE")},children:"DELETE"})]}),Object(x.jsx)("textarea",{name:"data",style:{width:"500px"}}),Object(x.jsxs)("button",{onClick:function(){t.dispatch({type:"show-history"}),p(!h)},children:[" ",h?"Go Back":"Show History!"]})]})})};a(25);var v=function(t){return Object(x.jsx)("section",{className:"results",children:!0===t.state?Object(x.jsx)("div",{class:"loader"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{children:["Request Method: ",t.method]}),Object(x.jsxs)("div",{children:["URL: ",t.url]}),Object(x.jsx)("pre",{children:t.data?JSON.stringify(t.data,void 0,2):null})]})})};a(26);function q(t){return Object(x.jsxs)("section",{className:"results",children:[Object(x.jsx)("h2",{children:"Request History"}),t.data.map((function(t){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{children:["Request Method: ",t.requestData.method]}),Object(x.jsxs)("div",{children:["URL: ",t.requestData.url]}),Object(x.jsx)("pre",{children:t.data?JSON.stringify(t.data,void 0,2):null})]})}))]})}function D(t,e){switch(e.type){case"submit":return Object(p.a)(Object(p.a)({},t),{},{requestData:e.payload});case"data":return Object(p.a)(Object(p.a)({},t),{},{data:e.payload});case"loader":return Object(p.a)(Object(p.a)({},t),{},{loader:e.payload});case"history":return Object(p.a)(Object(p.a)({},t),{},{history:e.payload});case"show-history":return Object(p.a)(Object(p.a)({},t),{},{showHistory:!t.showHistory,data:null})}}function w(t){var e=Object(o.useReducer)(D,{data:null,requestData:{method:"GET",url:"",raw:{}},loader:!1,history:[],showHistory:!1}),a=Object(O.a)(e,2),r=a[0],s=a[1];return Object(o.useEffect)(Object(b.a)(j.a.mark((function t(){var e,a,n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e={method:r.requestData.method,body:r.requestData.raw},!r.requestData.url){t.next=21;break}if(s({type:"data",payload:null}),s({type:"loader",payload:!0}),"GET"!==r.requestData.method){t.next=10;break}return t.next=7,fetch(r.requestData.url);case 7:a=t.sent,t.next=13;break;case 10:return t.next=12,fetch(r.requestData.url,e);case 12:a=t.sent;case 13:return t.next=15,a.json();case 15:n=t.sent,s({type:"data",payload:n}),s({type:"loader",payload:!1}),c=JSON.parse(localStorage.getItem("history"))||[],localStorage.setItem("history",JSON.stringify([{requestData:r.requestData,data:n}].concat(Object(h.a)(c)))),s({type:"history",payload:JSON.parse(localStorage.getItem("history"))});case 21:case"end":return t.stop()}}),t)}))),[r.requestData.method,r.requestData.url]),Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(y,{}),Object(x.jsx)(m,{dispatch:s}),r.showHistory?Object(x.jsx)(q,{data:r.history}):Object(x.jsx)(v,{data:r.data,method:r.requestData.method,url:r.requestData.url,state:r.loader}),Object(x.jsx)(f,{})]})}var g=function(t){Object(n.a)(a,t);var e=Object(c.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(x.jsx)(w,{})}}]),a}(i.a.Component),k=document.getElementById("root");l.a.render(Object(x.jsx)(g,{}),k)}},[[27,1,2]]]);
//# sourceMappingURL=main.a3f5e2f3.chunk.js.map