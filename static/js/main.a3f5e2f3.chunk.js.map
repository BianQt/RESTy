{"version":3,"sources":["components/header/index.js","components/footer/index.js","components/form/index.js","components/results/index.js","components/history/index.js","app.js","index.js"],"names":["Header","id","Footer","Form","props","useState","method","setMethod","url","setUrl","show","setShow","e","a","preventDefault","formData","raw","target","data","value","dispatch","type","payload","onSubmit","name","onChange","className","onClick","style","width","Results","state","class","JSON","stringify","undefined","map","requestData","reducer","action","loader","history","showHistory","App","useReducer","useEffect","requestOptions","body","fetch","results","json","dataParsed","storedData","parse","localStorage","getItem","setItem","Fragment","Main","React","Component","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.a3f5e2f3.chunk.js","sourcesContent":["import React from 'react';\nimport './header.scss';\nfunction Header(){\n \n    return (\n      <header>\n        <h1 id='title'>RESTy</h1>\n      </header>\n    );\n  }\n\nexport default Header;\n","import React from \"react\";\nimport './footer.scss';\n\nfunction Footer() {\n  return <footer>&copy; 2021</footer>;\n}\n\nexport default Footer;\n","import React, { useState } from \"react\";\n\nimport \"./form.scss\";\n\nfunction Form(props) {\n  const [method, setMethod] = useState(\"GET\");\n  const [url, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\");\n  const [show, setShow] = useState(false)\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const formData = {\n      method: method,\n      url: url,\n      raw:e.target.data.value\n    };\n    props.dispatch({type:\"submit\",payload: formData });\n  }\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>URL: </span>\n          <input\n            name=\"url\"\n            type=\"text\"\n            onChange={(e) => {\n              setUrl(e.target.value);\n            }}\n          />\n          <button type=\"submit\">GO!</button>\n        </label>\n        <label className=\"methods\">\n          <span\n            id=\"get\"\n            onClick={() => {\n              setMethod(\"GET\");\n            }}\n          >\n            GET\n          </span>\n          <span\n            id=\"post\"\n            onClick={() => {\n              setMethod(\"POST\");\n            }}\n          >\n            POST\n          </span>\n          <span\n            id=\"put\"\n            onClick={() => {\n              setMethod(\"PUT\");\n            }}\n          >\n            PUT\n          </span>\n          <span\n            id=\"delete\"\n            onClick={() => {\n              setMethod(\"DELETE\");\n            }}\n          >\n            DELETE\n          </span>\n        </label>\n        <textarea name=\"data\" style={{ width: \"500px\" }}></textarea>\n        <button onClick={()=>{props.dispatch({type:\"show-history\"}); setShow(!show)}} > { show ? 'Go Back' : 'Show History!'}</button>\n      </form>\n    </>\n  );\n}\n\nexport default Form;\n","import React from 'react';\nimport './results.scss';\nfunction Results(props) {\n  \n    return (\n      <section className='results'>\n        {props.state === true ?\n        <div class=\"loader\"></div> :\n        <>\n        <div>Request Method: {props.method}</div>\n        <div>URL: {props.url}</div>\n        <pre>{props.data ? JSON.stringify(props.data, undefined, 2) : null}</pre>\n        </>}\n      </section>\n    );\n  }\n\n\nexport default Results;\n","import React from 'react';\nimport './results.scss';\n\n\nexport default function Results(props) {\n  \n    return (\n      <section className='results'>\n          <h2>Request History</h2>\n        {props.data.map(data =>{\n         return <>\n        <div>Request Method: {data.requestData.method}</div>\n        <div>URL: {data.requestData.url}</div>\n        <pre>{data.data ? JSON.stringify(data.data, undefined, 2) : null}</pre>\n        </>\n        }\n        )}\n      </section>\n    );\n  \n  }\n\n ","import React, { useState, useEffect, useReducer } from \"react\";\nimport \"./app.scss\";\n\n// Let's talk about using index.js and some other name in the component folder\n// There's pros and cons for each way of doing this ...\nimport Header from \"./components/header\";\nimport Footer from \"./components/footer\";\nimport Form from \"./components/form\";\nimport Results from \"./components/results\";\nimport History from \"./components/history\";\n\nconst ACTIONS = {};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"submit\":\n      return { ...state, requestData: action.payload };\n    case \"data\":\n      return { ...state, data: action.payload };\n    case \"loader\":\n      return { ...state, loader: action.payload };\n    case \"history\":\n      return { ...state, history: action.payload };\n      case \"show-history\":\n      return { ...state, showHistory: !state.showHistory, data: null };\n  }\n}\n\nexport default function App(props) {\n  const initialState = {\n    data: null,\n    requestData: {\n      method: \"GET\",\n      url: \"\",\n      raw: {},\n    },\n    loader: false,\n    history: [],\n    showHistory:false\n  };\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(async () => {\n    const requestOptions = {\n      method: state.requestData.method,\n      body: state.requestData.raw,\n    };\n    let results;\n    if (state.requestData.url) {\n      dispatch({ type: \"data\", payload: null });\n      dispatch({ type: \"loader\", payload: true });\n      state.requestData.method === \"GET\"\n        ? (results = await fetch(state.requestData.url))\n        : (results = await fetch(state.requestData.url, requestOptions));\n      const dataParsed = await results.json();\n      dispatch({ type: \"data\", payload: dataParsed });\n      dispatch({ type: \"loader\", payload: false });\n\n      let storedData = JSON.parse(localStorage.getItem(\"history\")) || [];\n\n      localStorage.setItem(\n        \"history\",\n        JSON.stringify([{requestData:state.requestData ,data:dataParsed}, ...storedData])\n      );\n      dispatch({\n        type: \"history\",\n        payload: JSON.parse(localStorage.getItem(\"history\")),\n      });\n    }\n  }, [state.requestData.method, state.requestData.url]);\n\n  return (\n    <React.Fragment>\n      <Header />\n      <Form dispatch={dispatch} />\n      {state.showHistory ? <History\n      data={state.history}\n      />:\n      <Results\n        data={state.data}\n        method={state.requestData.method}\n        url={state.requestData.url}\n        state={state.loader}\n      />}\n      <Footer />\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nclass Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}